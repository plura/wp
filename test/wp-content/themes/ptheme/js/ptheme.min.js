/**
 * PLURA WP BOOTSTRAP THEME JAVASCRIPT
 * 2015
 */
plura.obj("pTheme",function(a){var e=[],b=a.pwp,c=b.lang;a=a.process;var d=$("#modal-quotes");e.push(new ptheme.modules.Footer({pwp:b,process:a}));d.length&&e.push(new ptheme.modules.Quotes({lang:c,process:a,target:d}));new ptheme.layout.ResizeManager({objects:e});$("#qtranslate-chooser").addClass("dropdown-menu")});$(function(){new pTheme({process:PWP.template_dir+"process/process.php",pwp:PWP})});
plura.obj("ptheme.data.Lang",{check:{email:{empty:{en:"Please insert your email. Thank you!",pt:"Por favor insira o seu email. Obrigado"},invalid:{en:"Your email address is invalid.",pt:"O seu endere\u00e7o de mail \u00e9 inv\u00e1lido"}},message:{en:"Please include a message. Thank you!",pt:"Por favor escreva a sua mensagem. Obrigado!"},name:{en:"Please insert your first and last name. Thank you!",pt:"Por favor insira o seu nome e apelido. Obrigado"},telephone:{en:"Please insert your home, office or mobile phone number. Thank you!",
pt:"Por favor insira o seu n\u00ba de telefone ou telem\u00f3vel"}},fields:{message:{en:"Message",pt:"Mensagem"},name:{en:"Name",pt:"Nome"},telephone:{en:"Telephone",pt:"Telefone"}}});
plura.obj("ptheme.layout.ResizeManager",function(a){var e,b,c=function(a){b=(b||[]).concat(a instanceof Array?a:[a])},d=function(){e={window:{height:$(window).height(),width:$(window).width()}}},f=function(){var a;d();if(b)for(a in b)b.hasOwnProperty(a)&&"function"===typeof b[a].resize&&b[a].resize(e)};this.add=c;this.refresh=d;$(window).resize(f).load(f);a.objects&&c(a.objects)});
plura.obj("ptheme.modules.Footer",function(a){this.resize=function(e){if(!a.pwp.front_page){$("body");var b=$("body>.container"),c=$("body>footer");c.removeClass("fixed");e.window.height-(b.outerHeight()+b.offset().top)>c.outerHeight()&&c.addClass("fixed")}}});
plura.obj("ptheme.modules.Quotes",function(a){var e,b,c=ptheme.data.Lang,d=function(){var a=$(window).height(),c=$(window).scrollTop(),e=$("footer.main").offset().top;b.outerHeight();var d=parseInt(b.css("right"),10);b.css({bottom:""});a+c>e&&b.css({bottom:a+c-e+d})},f=function(){d()},g=function(b,c){switch(b.type){case "FORM_VALIDATION_ERROR":alert(c.alert);break;case "FORM_PROCESS_ERROR":alert(c.alert.join("\n"));break;case "FORM_PROCESS_SUCCESS":alert(c.alert.join("\n")),a.target.modal("hide")}};
this.resize=function(){d()};(function(){var d=a.lang;b=$("button[data-target=#modal-quotes]");e=new plura.form.FormManager({check:[{id:"user_email",rules:[{alert:c.check.email.empty[d]},{exp:plura.constants.RegExp.EMAIL,alert:c.check.email.invalid[d]}]},{id:"user_message",alert:c.check.message[d]},{id:"user_name",alert:c.check.name[d]},{id:"user_telephone",alert:c.check.telephone[d]}],params:{type:"form-quotes",lang:d},path:a.process,reset:!0,target:a.target.find("form")});e.form.bind("FORM_VALIDATION_ERROR FORM_PROCESS_ERROR FORM_PROCESS_SUCCESS",
g);$(window).scroll(f)})()});